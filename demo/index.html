<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <script type="text/javascript" src="http://cdn.bootcss.com/jquery/1.8.2/jquery.js"></script>
  <script>window.FileAPI = { staticPath: '/image-crop-upload/demo/dist/' };</script>
  <script type="text/javascript" src="../dependent/FileAPI/FileAPI.min.js"></script>	
  <script type="text/javascript" src="../dependent/Jcrop/jquery.Jcrop.min.js"></script>
  <link rel="stylesheet" href="../dependent/Jcrop/jquery.Jcrop.min.css" />

  <script type="text/javascript" src="../dist/Jquery.ImageCropUpload.js"></script>
  <title>演示</title>
 </head>
 <body>
  <div id="fileapi" style="background-color:#ccc;height:100px;border-radius:5px;text-align:center;line-height:100px;width:50%">上传。裁剪300*300</div>
  <div id="images"></div>
  <script type="text/javascript">
	$("#fileapi").ImageCropUpload({
		imagewidth:300,
		imageheight:300,
		cropcomplete:function(img,opt){
			$("#images").append(img);
		}
	});
  </script>
<div class="js-fileapi-wrapper upload-btn">
      <div class="upload-btn__txt">Choose files</div>
      <input id="choose" name="files" type="file" multiple />
    </div>
  <script type="text/javascript">
    FileAPI.event.on(document.getElementById("choose"), 'change', function (evt){
      var files = FileAPI.getFiles(evt); // Retrieve file list

      FileAPI.filterFiles(files, function (file, info/**Object*/){
        if( /^image/.test(file.type) ){
          return  info.width >= 320 && info.height >= 240;
        }
        return  false;
      }, function (files/**Array*/, rejected/**Array*/){
        if( files.length ){
          // Make preview 100x100
          FileAPI.each(files, function (file){
            FileAPI.Image(file).preview(100).get(function (err, img){
              images.appendChild(img);
            });
          });
        }
      });
    });
  </script>
 </body>
</html>
